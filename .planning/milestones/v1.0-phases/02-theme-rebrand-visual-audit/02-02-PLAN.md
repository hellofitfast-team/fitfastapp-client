---
phase: 02-theme-rebrand-visual-audit
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/card.tsx
  - src/app/[locale]/(dashboard)/meal-plan/loading.tsx
  - src/app/[locale]/(dashboard)/workout-plan/loading.tsx
  - src/app/[locale]/(auth)/set-password/page.tsx
  - src/components/admin/admin-sidebar.tsx
  - src/components/charts/ProgressCharts.tsx
  - src/app/[locale]/(admin)/admin/login/page.tsx
autonomous: true

must_haves:
  truths:
    - "No hardcoded hex values remain in any TSX file except layout.tsx themeColor meta tag"
    - "Password strength indicator uses semantic warning color instead of Tailwind orange classes"
    - "Chart colors reference CSS custom properties, not hardcoded hex"
    - "All loading skeletons use semantic cream class instead of hardcoded #FFFEF5"
  artifacts:
    - path: "src/components/ui/card.tsx"
      provides: "Card component using semantic cream class"
      contains: "bg-cream"
    - path: "src/app/[locale]/(auth)/set-password/page.tsx"
      provides: "Password page with semantic colors for strength indicator"
      contains: "warning-500"
    - path: "src/components/charts/ProgressCharts.tsx"
      provides: "Charts using CSS variable references"
      contains: "var(--color-primary)"
  key_links:
    - from: "src/components/ui/card.tsx"
      to: "src/app/globals.css"
      via: "Semantic cream color class"
      pattern: "bg-cream"
    - from: "src/components/charts/ProgressCharts.tsx"
      to: "src/app/globals.css"
      via: "CSS custom property references"
      pattern: "var\\(--color-primary\\)"
---

<objective>
Replace all remaining hardcoded hex values and non-semantic Tailwind color classes in UI components, loading skeletons, auth pages, admin pages, and charts.

Purpose: Phase 1 focused on page-level color swaps but left behind hardcoded hex values in UI components (card.tsx uses `bg-[#FFFEF5]`), loading skeletons, password strength indicators using Tailwind orange classes, chart components with hardcoded colors, and admin components. This plan catches every remaining instance.

Output: Zero hardcoded hex color values in any TSX file (except the required themeColor in layout.tsx). All colors use semantic Tailwind classes or CSS custom property references.
</objective>

<execution_context>
@/Users/ziadadel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ziadadel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-theme-rebrand-core-color-swap/01-01-SUMMARY.md
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix UI components, loading skeletons, auth page, and admin hardcoded colors</name>
  <files>
    src/components/ui/card.tsx
    src/app/[locale]/(dashboard)/meal-plan/loading.tsx
    src/app/[locale]/(dashboard)/workout-plan/loading.tsx
    src/app/[locale]/(auth)/set-password/page.tsx
    src/components/admin/admin-sidebar.tsx
    src/app/[locale]/(admin)/admin/login/page.tsx
  </files>
  <action>
Fix each file's hardcoded color values:

1. **card.tsx** (~line 11):
   Replace `bg-[#FFFEF5]` with `bg-cream` in the card base className.
   The shadow value `shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]` is fine (it's a shadow, not a background color).

2. **meal-plan/loading.tsx** (~lines 20, 32):
   - Replace `bg-[#FFFEF5]` with `bg-cream` in both occurrences.

3. **workout-plan/loading.tsx** (~lines 20, 32):
   - Replace `bg-[#FFFEF5]` with `bg-cream` in both occurrences.

4. **set-password/page.tsx** (~lines 225, 229):
   - Replace `bg-orange-400` with `bg-warning-500` (medium password strength is a warning state, semantically correct).
   - Replace `text-orange-500` with `text-warning-500` (same reasoning -- medium strength = warning).
   Note: warning-500 (#f59e0b) is already defined in globals.css. This is semantically more accurate than orange.

5. **admin-sidebar.tsx** (~line 102):
   - Replace `bg-[#1C1917]` with `bg-neutral-950` (closest Tailwind semantic neutral). The admin sidebar uses a dark background which is `neutral-950` (#0a0a0a) -- close enough to stone-900 (#1C1917). If exact match is needed, use `bg-[var(--color-neutral-950)]`. However, since the admin panel uses a distinct dark theme, `bg-neutral-950` is the right semantic choice. The slight color difference (#1C1917 vs #0a0a0a) is acceptable since admin uses its own visual language.

   Alternative: If the admin sidebar specifically needs stone-900 for its warm dark tone, keep `bg-[#1C1917]` and add a comment `/* Admin dark theme - intentional */`. Use your judgment -- if the admin panel consistently uses warm dark tones elsewhere, keep it.

6. **admin/login/page.tsx** (~line 90):
   - The inline style `backgroundImage: "radial-gradient(circle at 1px 1px, #92400e 1px, transparent 0)"` is a decorative pattern. Replace `#92400e` with `var(--color-primary-dark)` or keep as-is with a comment `/* Decorative grid pattern - intentional amber tone for admin branding */`. The admin login is a separate visual context from client-facing pages. Use your judgment.
  </action>
  <verify>
Run: `grep -rn 'bg-\[#' src/components/ui/card.tsx src/app/\[locale\]/\(dashboard\)/meal-plan/loading.tsx src/app/\[locale\]/\(dashboard\)/workout-plan/loading.tsx` -- should return zero matches.

Run: `grep -n 'bg-orange-\|text-orange-' src/app/\[locale\]/\(auth\)/set-password/page.tsx` -- should return zero matches.

Run: `pnpm tsc --noEmit` -- passes with no errors.
  </verify>
  <done>
card.tsx uses `bg-cream` instead of `bg-[#FFFEF5]`. Both loading skeletons use `bg-cream`. Password strength indicator uses semantic warning-500 instead of Tailwind orange classes. Admin sidebar uses semantic neutral class or has intentional comment. TypeScript compiles cleanly.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix chart hardcoded hex colors to use CSS custom properties</name>
  <files>
    src/components/charts/ProgressCharts.tsx
  </files>
  <action>
The ProgressCharts.tsx component uses hardcoded hex values for Recharts configuration:
- Line ~70: `backgroundColor: "#FFFEF5"` in tooltip
- Line ~76: `stroke="#4169E1"`, `dot={{ fill: "#4169E1", ... stroke: "#000" }}` in Line component

Recharts does NOT support Tailwind classes (it uses SVG attributes), so the approach is to reference CSS custom properties:

1. **Replace hardcoded hex in chart config with CSS variable references:**
   - `"#FFFEF5"` -> Use the string `"var(--color-cream)"` or `"#FFFEF5"` with a comment. Note: Recharts SVG rendering may not support CSS variables in all props. Test both approaches.

   **Preferred approach:** Since Recharts uses SVG inline attributes (not CSS classes), CSS variables may not resolve. The standard pattern for Recharts is to define color constants at the top of the file that reference the design system:
   ```typescript
   // Theme colors for charts - must match globals.css
   const CHART_COLORS = {
     primary: "#4169E1",      // --color-primary (Royal Blue)
     cream: "#FFFEF5",        // --color-cream
     black: "#000000",        // --color-black
     success: "#00FF94",      // --color-success-500
   } as const;
   ```
   Then use `CHART_COLORS.primary` instead of inline `"#4169E1"`.

2. **Apply the constants throughout the file:**
   - Tooltip backgroundColor: `CHART_COLORS.cream`
   - Line stroke: `CHART_COLORS.primary`
   - Dot fill: `CHART_COLORS.primary`
   - Dot stroke: `CHART_COLORS.black`

3. **Add a comment** above CHART_COLORS explaining these must stay in sync with globals.css theme variables.

This approach centralizes chart colors, making future theme changes a single-point update within the chart file. It's the standard Recharts pattern since SVG attributes don't resolve CSS variables.
  </action>
  <verify>
Run: `grep -n '"#' src/components/charts/ProgressCharts.tsx` -- should only show the CHART_COLORS constant definition, not scattered inline hex values.

Run: `pnpm tsc --noEmit` -- passes with no errors.

Run: `pnpm build` -- successful production build.
  </verify>
  <done>
ProgressCharts.tsx uses a centralized CHART_COLORS constant that references the design system colors. No scattered inline hex values in chart JSX. All chart colors traceable to a single constant block. TypeScript compiles and production build succeeds.
  </done>
</task>

</tasks>

<verification>
1. Full codebase hardcoded hex scan: `grep -rn '#[0-9A-Fa-f]\{6\}' src/ --include='*.tsx' | grep -v 'layout.tsx.*themeColor' | grep -v 'CHART_COLORS' | grep -v '// --color-'` -- should return zero matches (or only the themeColor in layout.tsx and admin decorative patterns with intentional comments)
2. No Tailwind orange/green classes: `grep -rn 'bg-orange-\|text-orange-\|bg-green-\|text-green-' src/ --include='*.tsx'` -- should return zero matches
3. `pnpm tsc --noEmit` -- clean compilation
4. `pnpm build` -- successful production build
</verification>

<success_criteria>
- Zero hardcoded hex values scattered in JSX (only in constants or layout.tsx themeColor)
- Zero non-semantic Tailwind color classes (no bg-orange-*, text-orange-*, etc.)
- Charts use centralized color constants
- Loading skeletons and card use semantic cream class
- Password strength uses semantic warning color
- TypeScript compiles and build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/02-theme-rebrand-visual-audit/02-02-SUMMARY.md`
</output>
