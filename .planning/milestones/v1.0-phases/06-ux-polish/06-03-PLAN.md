---
phase: 06-ux-polish
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/app/[locale]/(dashboard)/tickets/page.tsx
  - src/app/[locale]/(dashboard)/progress/page.tsx
  - src/app/[locale]/(dashboard)/tracking/page.tsx
autonomous: true

must_haves:
  truths:
    - "Tickets page empty state uses EmptyState component with icon, title, description, and CTA"
    - "Progress photos tab empty state uses EmptyState component with icon, title, and description"
    - "Progress history tab empty state uses EmptyState component with icon, title, and description"
    - "Tracking page shows EmptyState when no active plans exist"
    - "All empty states use translated strings from emptyStates i18n keys"
  artifacts:
    - path: "src/app/[locale]/(dashboard)/tickets/page.tsx"
      provides: "EmptyState for no tickets"
      contains: "EmptyState"
    - path: "src/app/[locale]/(dashboard)/progress/page.tsx"
      provides: "EmptyState for no photos and no check-in history"
      contains: "EmptyState"
    - path: "src/app/[locale]/(dashboard)/tracking/page.tsx"
      provides: "EmptyState for no tracking data"
      contains: "EmptyState"
  key_links:
    - from: "src/app/[locale]/(dashboard)/tickets/page.tsx"
      to: "src/components/ui/empty-state.tsx"
      via: "import"
      pattern: "import.*EmptyState.*from.*components/ui/empty-state"
---

<objective>
Replace all ad-hoc empty state patterns across dashboard pages with the standardized EmptyState component from Plan 01, using i18n keys for both English and Arabic.

Purpose: Consistent, helpful empty states guide users on what to do next instead of showing bare "no data" messages. Using the reusable component ensures visual consistency.

Output: All "no data" scenarios across dashboard pages use the EmptyState component with translated strings.
</objective>

<execution_context>
@/Users/ziadadel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ziadadel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-ux-polish/06-RESEARCH.md
@.planning/phases/06-ux-polish/06-01-SUMMARY.md
@src/components/ui/empty-state.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace ad-hoc empty states in tickets and progress pages</name>
  <files>src/app/[locale]/(dashboard)/tickets/page.tsx, src/app/[locale]/(dashboard)/progress/page.tsx</files>
  <action>
**Tickets page** (`tickets/page.tsx`):
- Import `EmptyState` from `@/components/ui/empty-state`
- Import `useTranslations` for the `emptyStates` namespace: `const tEmpty = useTranslations("emptyStates")`
- Replace the current `tickets.length === 0` block (the ad-hoc div with MessageSquare icon and two text lines) with:
  ```tsx
  <EmptyState
    icon={MessageSquare}
    title={tEmpty("noTickets.title")}
    description={tEmpty("noTickets.description")}
    action={{
      label: tEmpty("noTickets.action"),
      onClick: () => {
        // Scroll to the new ticket form at top of page
        window.scrollTo({ top: 0, behavior: "smooth" });
      },
    }}
  />
  ```
- Keep the existing `isLoading` and `error` states as-is (Plan 02 handles loading)

**Progress page** (`progress/page.tsx`):
- Import `EmptyState` from `@/components/ui/empty-state`
- Add `const tEmpty = useTranslations("emptyStates")`
- **Photos tab**: Replace the current empty photos block (the dashed border div with ImageIcon) with:
  ```tsx
  <EmptyState
    icon={ImageIcon}
    title={tEmpty("noPhotos.title")}
    description={tEmpty("noPhotos.description")}
  />
  ```
  Wrap in the existing card container (border-4 border-black bg-cream shadow)
- **History tab**: Replace the current empty check-ins block (Calendar icon + `t("noCheckIns")`) with:
  ```tsx
  <EmptyState
    icon={Calendar}
    title={tEmpty("noCheckIns.title")}
    description={tEmpty("noCheckIns.description")}
    action={{
      label: tEmpty("noCheckIns.action"),
      onClick: () => router.push("/check-in"),
    }}
  />
  ```
  Import `useRouter` from `next/navigation` if not already imported

IMPORTANT: Read each file fully before modifying. Only change the empty state rendering blocks. Preserve all other functionality.
  </action>
  <verify>`pnpm tsc --noEmit 2>&1 | head -20` to verify TypeScript compiles. Grep for EmptyState: `grep -r "EmptyState" src/app/[locale]/(dashboard)/tickets/page.tsx src/app/[locale]/(dashboard)/progress/page.tsx`</verify>
  <done>Tickets page uses EmptyState with CTA to scroll to form. Progress photos and history tabs use EmptyState with appropriate icons and CTAs.</done>
</task>

<task type="auto">
  <name>Task 2: Add EmptyState to tracking page for no-plan scenario</name>
  <files>src/app/[locale]/(dashboard)/tracking/page.tsx</files>
  <action>
**Tracking page** (`tracking/page.tsx`):
- Import `EmptyState` from `@/components/ui/empty-state`
- Add `const tEmpty = useTranslations("emptyStates")`
- Import `useRouter` from `next/navigation` if not already imported
- After the loading state check, add an empty state check: when both `mealPlan` and `workoutPlan` are null/undefined (after loading is done), show:
  ```tsx
  <EmptyState
    icon={Target}  // Already imported in the file
    title={tEmpty("noTrackingData.title")}
    description={tEmpty("noTrackingData.description")}
    action={{
      label: tEmpty("noCheckIns.action"),
      onClick: () => router.push("/check-in"),
    }}
  />
  ```
- This handles the case where a user navigates to tracking before they have any plans generated
- Wrap in a container div with standard page layout (header + empty state body) so it looks like the rest of the app:
  - Keep the existing header section with the date selector
  - Show EmptyState below the header where content would normally be

IMPORTANT: Read the entire file before modifying. The tracking page is complex with meal/workout plan data. Only add the empty state guard after loading states resolve. Do NOT modify any existing tracking functionality.
  </action>
  <verify>`pnpm tsc --noEmit 2>&1 | head -20` to verify TypeScript compiles. Grep: `grep "EmptyState" src/app/[locale]/(dashboard)/tracking/page.tsx`</verify>
  <done>Tracking page shows EmptyState with check-in CTA when no meal or workout plans exist. Existing tracking functionality unchanged.</done>
</task>

</tasks>

<verification>
- `pnpm tsc --noEmit` passes
- All empty states use the EmptyState component (grep confirms imports)
- All empty states use i18n keys from the emptyStates namespace
- Existing page functionality unchanged
</verification>

<success_criteria>
Every "no data" scenario in the dashboard uses the EmptyState component with translated text and appropriate CTAs. No bare "no data" divs remain in the modified pages.
</success_criteria>

<output>
After completion, create `.planning/phases/06-ux-polish/06-03-SUMMARY.md`
</output>
