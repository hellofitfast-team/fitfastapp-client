---
phase: 01-theme-rebrand-core-color-swap
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/globals.css
  - public/manifest.json
  - src/app/layout.tsx
  - src/components/ui/button.tsx
  - src/components/ui/input.tsx
  - src/components/ui/textarea.tsx
  - src/components/ui/checkbox.tsx
  - src/components/ui/slider.tsx
  - src/components/ui/select.tsx
  - src/components/ui/dropdown-menu.tsx
  - src/components/ui/dialog.tsx
  - src/components/ui/toast.tsx
  - src/components/ui/tabs.tsx
  - src/components/ui/card.tsx
autonomous: true

must_haves:
  truths:
    - "CSS custom property --color-primary resolves to Royal Blue (#4169E1)"
    - "CSS custom property --color-ring resolves to Royal Blue (#4169E1)"
    - "CSS custom property --color-primary-foreground resolves to cream (#FFFEF5)"
    - "Error and success semantic colors remain unchanged (--color-error-500: #FF3B00, --color-success-500: #00FF94)"
    - "PWA manifest theme_color is #4169E1"
    - "Next.js viewport themeColor is #4169E1"
    - "No hardcoded #FF3B00 or #00FF94 hex values remain in any UI component file"
    - "All UI components reference semantic Tailwind classes (primary, error-500, success-500) instead of hex literals"
  artifacts:
    - path: "src/app/globals.css"
      provides: "Royal Blue theme variables and accent color definitions"
      contains: "--color-primary: #4169E1"
    - path: "public/manifest.json"
      provides: "PWA theme color"
      contains: "4169E1"
    - path: "src/app/layout.tsx"
      provides: "Viewport meta theme color"
      contains: "4169E1"
    - path: "src/components/ui/button.tsx"
      provides: "Button component with semantic color classes"
    - path: "src/components/ui/toast.tsx"
      provides: "Toast component with semantic color classes"
  key_links:
    - from: "src/app/globals.css"
      to: "All component files"
      via: "Tailwind v4 @theme inline CSS custom properties"
      pattern: "--color-primary.*4169E1"
    - from: "public/manifest.json"
      to: "src/app/layout.tsx"
      via: "theme_color must match viewport.themeColor"
      pattern: "4169E1"
---

<objective>
Establish the Royal Blue color foundation by updating CSS custom properties, PWA configuration, and all shared UI components.

Purpose: This is the color system foundation. Every other plan depends on these variables and component definitions being correct. We update the single source of truth (globals.css) and all shared UI primitives so that downstream page files can use semantic class names.

Output: Updated globals.css with Royal Blue as primary, synced PWA theme color, and all 11 UI components using semantic Tailwind classes instead of hardcoded hex values.
</objective>

<execution_context>
@/Users/ziadadel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ziadadel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-theme-rebrand-core-color-swap/01-RESEARCH.md
@src/app/globals.css
@public/manifest.json
@src/app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update CSS custom properties and PWA theme color</name>
  <files>
    src/app/globals.css
    public/manifest.json
    src/app/layout.tsx
  </files>
  <action>
    **globals.css changes:**

    In the `@theme inline` block:
    1. Add `--color-primary: #4169E1;` (Royal Blue)
    2. Add `--color-primary-foreground: #FFFEF5;` (cream - for text on blue backgrounds)
    3. Add `--color-accent: #4169E1;` (alias for primary, used by some components)
    4. Add `--color-accent-foreground: #FFFEF5;`
    5. Change `--color-ring: #FF3B00;` to `--color-ring: #4169E1;`
    6. Keep `--color-orange: #FF3B00;` renamed to `--color-brand-orange: #FF3B00;` (preserved for explicit error-context uses if needed, but primary references change)
    7. Keep `--color-green: #00FF94;` renamed to `--color-brand-green: #00FF94;` (same reasoning)
    8. Keep `--color-error-500: #FF3B00;` and `--color-success-500: #00FF94;` exactly as they are
    9. Add Royal Blue lighter/darker variants for hover states:
       - `--color-primary-light: #5A82F0;` (lighter Royal Blue for hover/active on dark backgrounds)
       - `--color-primary-dark: #2952B3;` (darker Royal Blue for hover states)

    In the scrollbar section, change:
    - `::-webkit-scrollbar-thumb:hover` background from `var(--color-orange)` to `var(--color-primary)`

    In the dark mode override `@media (prefers-color-scheme: dark)` block:
    - No changes needed (it only overrides background/foreground, not accent colors)

    **manifest.json changes:**
    - Change `"theme_color": "#000000"` to `"theme_color": "#4169E1"`
    - Keep `"background_color": "#000000"` as-is (this is the splash screen background, black is fine)

    **layout.tsx changes:**
    - Change `themeColor: "#000000"` to `themeColor: "#4169E1"`
  </action>
  <verify>
    1. Run `grep -n "4169E1" src/app/globals.css` - should show --color-primary, --color-ring, --color-accent, variants
    2. Run `grep -n "4169E1" public/manifest.json` - should show theme_color
    3. Run `grep -n "4169E1" src/app/layout.tsx` - should show themeColor
    4. Run `grep -n "error-500.*FF3B00" src/app/globals.css` - should still show error color preserved
    5. Run `grep -n "success-500.*00FF94" src/app/globals.css` - should still show success color preserved
    6. Run `pnpm build` to verify no CSS compilation errors (or `pnpm tsc --noEmit` for type check)
  </verify>
  <done>
    - globals.css has --color-primary, --color-primary-foreground, --color-ring all set to Royal Blue values
    - Error/success semantic colors are unchanged
    - manifest.json and layout.tsx both show #4169E1 as theme color
    - Build passes without errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Replace hardcoded hex values in all UI components</name>
  <files>
    src/components/ui/button.tsx
    src/components/ui/input.tsx
    src/components/ui/textarea.tsx
    src/components/ui/checkbox.tsx
    src/components/ui/slider.tsx
    src/components/ui/select.tsx
    src/components/ui/dropdown-menu.tsx
    src/components/ui/dialog.tsx
    src/components/ui/toast.tsx
    src/components/ui/tabs.tsx
    src/components/ui/card.tsx
  </files>
  <action>
    Replace all hardcoded hex color values with semantic Tailwind class names that reference the CSS custom properties defined in Task 1.

    **Color mapping rules:**
    - `#FF3B00` used as brand/primary accent -> `primary` (e.g., `bg-[#FF3B00]` -> `bg-primary`, `text-[#FF3B00]` -> `text-primary`, `ring-[#FF3B00]` -> `ring-primary`, `hover:bg-[#FF3B00]` -> `hover:bg-primary`, `border-[#FF3B00]` -> `border-primary`)
    - `#FF3B00` used as error/destructive -> `error-500` (e.g., destructive button variant keeps using error color: `bg-[#FF3B00]` -> `bg-error-500`)
    - `#00FF94` used as brand/accent -> `success-500` for now (these are the green accents - success/completion indicators). In Phase 2 visual audit, these can be refined.
    - `#00FF94` used as success indicator -> `success-500`
    - `#FFFEF5` -> `cream` (already defined as --color-cream)
    - `#000000` in Tailwind classes -> `black` (already a Tailwind default, but verify it maps to --color-black)

    **Per-component changes:**

    **button.tsx:**
    - Base: `ring-[#FF3B00]` -> `ring-primary`
    - default variant: `text-[#FFFEF5]` -> `text-cream`, `hover:bg-[#FF3B00]` -> `hover:bg-primary`
    - destructive: `bg-[#FF3B00]` -> `bg-error-500` (this IS an error/destructive action)
    - outline: `bg-[#FFFEF5]` -> `bg-cream`, `hover:text-[#FFFEF5]` -> `hover:text-cream`
    - link: `text-[#FF3B00]` -> `text-primary`
    - success: `bg-[#00FF94]` -> `bg-success-500`, `hover:bg-[#FF3B00]` -> `hover:bg-primary`

    **input.tsx:**
    - error state: `border-[#FF3B00]` -> `border-error-500` (this is error-semantic)

    **textarea.tsx:**
    - error state: `border-[#FF3B00]` -> `border-error-500` (this is error-semantic)

    **checkbox.tsx:**
    - checked state: `bg-[#00FF94]` -> `bg-primary` (checked = active/selected, brand color)
    - focus ring: `ring-[#FF3B00]` -> `ring-primary`

    **slider.tsx:**
    - Range fill: `bg-[#00FF94]` -> `bg-primary` (active/filled state = brand)
    - Thumb: `bg-[#FFFEF5]` -> `bg-cream`, `ring-[#FF3B00]` -> `ring-primary`, `hover:bg-[#FF3B00]` -> `hover:bg-primary`, `hover:border-[#FF3B00]` -> `hover:border-primary`

    **select.tsx:**
    - Check icon: `text-[#00FF94]` -> `text-primary` (selected indicator = brand)

    **dropdown-menu.tsx:**
    - Check icon: `text-[#00FF94]` -> `text-primary`
    - Radio dot: `fill-[#00FF94]` -> `fill-primary`, `text-[#00FF94]` -> `text-primary`

    **dialog.tsx:**
    - Close button: `bg-[#FFFEF5]` -> `bg-cream`, `hover:bg-[#FF3B00]` -> `hover:bg-primary`, `ring-[#FF3B00]` -> `ring-primary`

    **toast.tsx:**
    - destructive variant: `bg-[#FF3B00]` -> `bg-error-500`, `border-[#FF3B00]` -> `border-error-500`
    - success variant: `bg-[#00FF94]` -> `bg-success-500`, `border-[#00FF94]` -> `border-success-500`
    - ToastAction: `bg-[#FFFEF5]` -> `bg-cream`, `hover:text-[#FFFEF5]` -> `hover:text-cream`, `ring-[#FF3B00]` -> `ring-primary`, `text-[#FF3B00]` in destructive group -> `text-error-500`
    - ToastClose: `hover:text-[#FFFEF5]` -> `hover:text-cream`, `ring-[#FF3B00]` -> `ring-primary`, destructive group text-[#FF3B00] -> `text-error-500`

    **tabs.tsx:**
    - Focus ring: `ring-[#FF3B00]` -> `ring-primary`
    - Active tab text: `text-[#00FF94]` -> `text-primary` (active = brand color)
    - Content focus ring: `ring-[#FF3B00]` -> `ring-primary`

    **card.tsx:**
    - `bg-[#FFFEF5]` -> `bg-cream`

    IMPORTANT: Do NOT change `#000000` (black) references - these are the brutalist border/shadow colors and should stay. Do NOT change `shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]` - black shadows are part of the brutalist design.
  </action>
  <verify>
    1. Run `grep -rn '#FF3B00\|#00FF94' src/components/ui/` - should return ZERO results
    2. Run `grep -rn 'bg-\[#\|text-\[#\|border-\[#\|ring-\[#\|fill-\[#' src/components/ui/` - should only show `#FFFEF5` or `#000000` references if any remain, but ideally none (all converted to semantic names)
    3. Run `pnpm tsc --noEmit` to verify no TypeScript errors
    4. Run `pnpm build` to verify Tailwind can resolve all new class names
  </verify>
  <done>
    - Zero hardcoded `#FF3B00` or `#00FF94` values in any file under `src/components/ui/`
    - All UI components use semantic class names: `primary`, `cream`, `error-500`, `success-500`
    - Build passes successfully
    - Destructive/error contexts correctly use error-500 (not primary)
    - Success contexts correctly use success-500
    - Brand/interactive contexts use primary (Royal Blue)
  </done>
</task>

</tasks>

<verification>
1. `grep -rn '#FF3B00\|#00FF94' src/components/ui/ public/manifest.json` returns zero matches
2. `grep -n '4169E1' src/app/globals.css public/manifest.json src/app/layout.tsx` shows all three files updated
3. `grep -n 'error-500.*FF3B00' src/app/globals.css` confirms error color preserved
4. `pnpm build` succeeds without errors
</verification>

<success_criteria>
- Royal Blue (#4169E1) is the primary color in CSS custom properties
- PWA manifest and viewport meta tag both show #4169E1
- All 11 UI components use semantic Tailwind classes (no hardcoded orange/green hex)
- Error and success semantic colors are preserved (FF3B00 for errors, 00FF94 for success)
- Application builds successfully
</success_criteria>

<output>
After completion, create `.planning/phases/01-theme-rebrand-core-color-swap/01-01-SUMMARY.md`
</output>
