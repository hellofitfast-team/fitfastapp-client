---
phase: 06-ux-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/skeleton.tsx
  - src/components/ui/empty-state.tsx
  - src/components/ui/button.tsx
  - src/messages/en.json
  - src/messages/ar.json
autonomous: true

must_haves:
  truths:
    - "Skeleton component renders animate-pulse div with customizable className"
    - "EmptyState component renders icon, title, description, and optional CTA button"
    - "Button sm and icon sizes are 48px minimum for touch targets"
    - "EmptyState i18n keys exist in both en.json and ar.json"
  artifacts:
    - path: "src/components/ui/skeleton.tsx"
      provides: "Reusable Skeleton component for loading states"
      exports: ["Skeleton"]
    - path: "src/components/ui/empty-state.tsx"
      provides: "Reusable EmptyState component for no-data scenarios"
      exports: ["EmptyState"]
    - path: "src/components/ui/button.tsx"
      provides: "Updated button variants with 48px minimum touch targets"
      exports: ["Button", "buttonVariants"]
  key_links:
    - from: "src/components/ui/skeleton.tsx"
      to: "@/lib/utils"
      via: "cn import"
      pattern: "import.*cn.*from.*utils"
    - from: "src/components/ui/empty-state.tsx"
      to: "lucide-react"
      via: "LucideIcon type"
      pattern: "LucideIcon"
---

<objective>
Create the foundation UI components for Phase 6 UX Polish: a Skeleton component, an EmptyState component, and fix button touch target sizes.

Purpose: These reusable components standardize loading and empty states across the entire app. Touch target fix ensures PWA mobile usability (48x48px minimum per Material Design guidelines).

Output: Three production-ready UI components and updated i18n keys for empty state messages.
</objective>

<execution_context>
@/Users/ziadadel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ziadadel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-ux-polish/06-RESEARCH.md
@src/components/ui/button.tsx
@src/lib/utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Skeleton and EmptyState UI components</name>
  <files>src/components/ui/skeleton.tsx, src/components/ui/empty-state.tsx</files>
  <action>
Create `src/components/ui/skeleton.tsx` following shadcn/ui pattern:
- Export a `Skeleton` component that renders a `div` with `animate-pulse bg-neutral-200` base classes
- Accept `className` via `React.HTMLAttributes<HTMLDivElement>` and merge with `cn()`
- Add `role="status"` and `aria-label="Loading"` for accessibility
- No "use client" needed (no hooks or event handlers)

Create `src/components/ui/empty-state.tsx`:
- "use client" directive (accepts onClick handler)
- Import `LucideIcon` type from `lucide-react`, `Button` from `@/components/ui/button`
- Props interface: `icon: LucideIcon`, `title: string`, `description: string`, `action?: { label: string; onClick: () => void; href?: string }`
- Match the app's brutalist design system:
  - Outer container: `border-4 border-black bg-cream p-12 text-center`
  - Icon container: `flex h-16 w-16 items-center justify-center mx-auto bg-neutral-100 border-4 border-black`
  - Icon: `h-8 w-8 text-neutral-400`
  - Title: `mt-6 font-black text-xl uppercase tracking-tight`
  - Description: `mt-2 font-mono text-xs text-neutral-500 max-w-md mx-auto`
  - Action button: uses `Button` component with `className="mt-6"`
- If `action.href` is provided, render as a link instead of button (using `onClick` for now since navigation varies)
  </action>
  <verify>Check files exist and have correct exports: `ls src/components/ui/skeleton.tsx src/components/ui/empty-state.tsx` and verify TypeScript compiles: `pnpm tsc --noEmit 2>&1 | head -20`</verify>
  <done>Skeleton component exports `Skeleton` with animate-pulse styling. EmptyState component exports `EmptyState` with icon/title/description/action props matching brutalist design.</done>
</task>

<task type="auto">
  <name>Task 2: Fix button touch targets and add empty state i18n keys</name>
  <files>src/components/ui/button.tsx, src/messages/en.json, src/messages/ar.json</files>
  <action>
Update `src/components/ui/button.tsx` button size variants:
- Change `sm` from `"h-10 px-4 text-xs"` to `"h-12 px-4 text-xs"` (40px -> 48px)
- Change `icon` from `"h-10 w-10"` to `"h-12 w-12"` (40px -> 48px)
- Keep `default` at `"h-12 px-6"` (already 48px)
- Keep `lg` at `"h-14 px-8 text-base"` (already 56px)

Update `src/messages/en.json` - add an `"emptyStates"` section at the top level with these keys:
```json
"emptyStates": {
  "noMealPlan": {
    "title": "No Meal Plan Yet",
    "description": "Your AI-powered meal plan will appear here after your first check-in. Complete a check-in to get started!"
  },
  "noWorkoutPlan": {
    "title": "No Workout Plan Yet",
    "description": "Your personalized workout plan will appear here after your first check-in. Complete a check-in to get started!"
  },
  "noTickets": {
    "title": "No Support Tickets",
    "description": "Having an issue with your plan? Submit a ticket and your coach will respond within 24 hours.",
    "action": "Create a Ticket"
  },
  "noCheckIns": {
    "title": "No Check-Ins Yet",
    "description": "Track your progress by submitting regular check-ins. Your coach uses this data to optimize your plans.",
    "action": "Submit Check-In"
  },
  "noPhotos": {
    "title": "No Progress Photos",
    "description": "Upload photos during your check-ins to track your visual progress over time."
  },
  "noFaqs": {
    "title": "No Results Found",
    "description": "Try a different search term or browse all questions below."
  },
  "noTrackingData": {
    "title": "Nothing to Track Today",
    "description": "You need an active meal or workout plan to start tracking. Complete a check-in to generate your plans."
  }
}
```

Update `src/messages/ar.json` - add the same `"emptyStates"` section with proper Arabic translations:
```json
"emptyStates": {
  "noMealPlan": {
    "title": "لا توجد خطة وجبات بعد",
    "description": "ستظهر خطة وجباتك المدعومة بالذكاء الاصطناعي هنا بعد أول تسجيل دخول. أكمل التسجيل للبدء!"
  },
  "noWorkoutPlan": {
    "title": "لا توجد خطة تمارين بعد",
    "description": "ستظهر خطة تمارينك المخصصة هنا بعد أول تسجيل دخول. أكمل التسجيل للبدء!"
  },
  "noTickets": {
    "title": "لا توجد تذاكر دعم",
    "description": "هل لديك مشكلة في خطتك؟ أرسل تذكرة وسيرد مدربك خلال 24 ساعة.",
    "action": "إنشاء تذكرة"
  },
  "noCheckIns": {
    "title": "لا توجد تسجيلات بعد",
    "description": "تابع تقدمك عبر تقديم تسجيلات منتظمة. يستخدم مدربك هذه البيانات لتحسين خططك.",
    "action": "تقديم تسجيل"
  },
  "noPhotos": {
    "title": "لا توجد صور تقدم",
    "description": "ارفع صورًا أثناء تسجيلاتك لتتبع تقدمك البصري مع مرور الوقت."
  },
  "noFaqs": {
    "title": "لا توجد نتائج",
    "description": "جرب مصطلح بحث مختلف أو تصفح جميع الأسئلة أدناه."
  },
  "noTrackingData": {
    "title": "لا يوجد شيء للتتبع اليوم",
    "description": "تحتاج إلى خطة وجبات أو تمارين نشطة لبدء التتبع. أكمل تسجيلًا لإنشاء خططك."
  }
}
```

IMPORTANT: Read both JSON files fully before modifying. Add the `emptyStates` key alongside existing top-level keys. Do not modify any existing keys.
  </action>
  <verify>Run `pnpm tsc --noEmit 2>&1 | head -20` to verify TypeScript compiles. Verify JSON validity: `node -e "JSON.parse(require('fs').readFileSync('src/messages/en.json','utf8')); console.log('en.json valid')"` and same for ar.json.</verify>
  <done>Button sm size is h-12 (48px), icon size is h-12 w-12 (48px). Both en.json and ar.json have emptyStates section with 7 empty state message sets.</done>
</task>

</tasks>

<verification>
- `pnpm tsc --noEmit` passes
- `src/components/ui/skeleton.tsx` exists with Skeleton export
- `src/components/ui/empty-state.tsx` exists with EmptyState export
- Button sm = h-12, icon = h-12 w-12 in button.tsx
- en.json and ar.json both contain "emptyStates" key with 7 entries
</verification>

<success_criteria>
Foundation components ready for use by Plans 02-05. Skeleton, EmptyState, and updated Button all compile and export correctly. i18n keys available in both languages.
</success_criteria>

<output>
After completion, create `.planning/phases/06-ux-polish/06-01-SUMMARY.md`
</output>
