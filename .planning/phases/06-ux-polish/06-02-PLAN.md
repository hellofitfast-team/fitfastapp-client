---
phase: 06-ux-polish
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/app/[locale]/(dashboard)/tickets/page.tsx
  - src/app/[locale]/(dashboard)/settings/page.tsx
  - src/app/[locale]/(dashboard)/faq/page.tsx
  - src/app/[locale]/(dashboard)/progress/page.tsx
  - src/app/[locale]/(dashboard)/tracking/page.tsx
  - src/app/[locale]/(dashboard)/progress/loading.tsx
autonomous: true

must_haves:
  truths:
    - "Tickets page shows skeleton loading instead of spinner during data fetch"
    - "FAQ page shows skeleton loading instead of spinner during data fetch"
    - "Progress page shows skeleton loading instead of icon pulse during data fetch"
    - "Tracking page shows skeleton loading during data fetch"
    - "Settings page shows skeleton loading for notification and plan details sections"
    - "All loading states use the Skeleton component from Plan 01"
  artifacts:
    - path: "src/app/[locale]/(dashboard)/tickets/page.tsx"
      provides: "Skeleton loading for ticket list"
      contains: "Skeleton"
    - path: "src/app/[locale]/(dashboard)/faq/page.tsx"
      provides: "Skeleton loading for FAQ list"
      contains: "Skeleton"
    - path: "src/app/[locale]/(dashboard)/progress/page.tsx"
      provides: "Skeleton loading for progress data"
      contains: "Skeleton"
    - path: "src/app/[locale]/(dashboard)/tracking/page.tsx"
      provides: "Skeleton loading for tracking data"
      contains: "Skeleton"
    - path: "src/app/[locale]/(dashboard)/progress/loading.tsx"
      provides: "Route-level loading skeleton for progress page"
      contains: "Skeleton"
  key_links:
    - from: "src/app/[locale]/(dashboard)/tickets/page.tsx"
      to: "src/components/ui/skeleton.tsx"
      via: "import"
      pattern: "import.*Skeleton.*from.*components/ui/skeleton"
---

<objective>
Replace all spinner/icon-based loading states on dashboard pages with skeleton loading using the Skeleton component from Plan 01.

Purpose: Skeleton screens reduce perceived loading time by 15-20% compared to spinners. Consistent loading patterns make the app feel polished and professional.

Output: All 5 dashboard pages with client-side loading now show content-shaped skeletons instead of spinners.
</objective>

<execution_context>
@/Users/ziadadel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ziadadel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-ux-polish/06-RESEARCH.md
@.planning/phases/06-ux-polish/06-01-SUMMARY.md
@src/components/ui/skeleton.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add skeleton loading to tickets, FAQ, and settings pages</name>
  <files>src/app/[locale]/(dashboard)/tickets/page.tsx, src/app/[locale]/(dashboard)/faq/page.tsx, src/app/[locale]/(dashboard)/settings/page.tsx</files>
  <action>
**Tickets page** (`tickets/page.tsx`):
- Import `Skeleton` from `@/components/ui/skeleton`
- Replace the `isLoading` spinner block (the `Loader2` spinner in a box) with a skeleton that mimics 3 ticket cards:
  - Each card: `border-4 border-black -mt-1 first:mt-0 bg-cream` container
  - Inside: a row with `Skeleton h-12 w-12` (status icon placeholder), then column with `Skeleton h-6 w-48 mb-2` (subject) and `Skeleton h-3 w-32` (meta), and a `Skeleton h-8 w-24` on the right (status badge)
  - Show 3 skeleton cards
- Remove the `Loader2` import if no longer used elsewhere in the file
- Remove `hoveredSubmitBtn` state and its usage (it's a useState hover anti-pattern per project decisions)

**FAQ page** (`faq/page.tsx`):
- Import `Skeleton` from `@/components/ui/skeleton`
- Replace the spinner div (`border-4 border-black border-t-transparent animate-spin`) with skeleton FAQ items:
  - Show 5 skeleton FAQ items, each: `border-4 border-black -mt-1 first:mt-0 bg-cream p-5`
  - Inside each: row with `Skeleton h-10 w-10` (number badge), `Skeleton h-6 w-3/4` (question text), `Skeleton h-10 w-10` (chevron)

**Settings page** (`settings/page.tsx`):
- This page doesn't have a loading state currently but relies on `useAuth` which provides `profile`
- No changes needed here since the profile is already loaded by the dashboard layout
- However, the notification section has `notifLoading` state - when `notifLoading` is true, show a `Skeleton h-8 w-16` where the toggle switch is instead of the current disabled toggle

IMPORTANT: Read each file fully before modifying. Only change the loading state rendering sections. Preserve all other functionality.
  </action>
  <verify>`pnpm tsc --noEmit 2>&1 | head -20` to verify TypeScript compiles. Grep for Skeleton import: `grep -r "from.*components/ui/skeleton" src/app/[locale]/(dashboard)/tickets/page.tsx src/app/[locale]/(dashboard)/faq/page.tsx`</verify>
  <done>Tickets page shows 3 skeleton ticket cards during loading. FAQ page shows 5 skeleton FAQ items during loading. Settings notification toggle shows skeleton during loading.</done>
</task>

<task type="auto">
  <name>Task 2: Add skeleton loading to progress and tracking pages</name>
  <files>src/app/[locale]/(dashboard)/progress/page.tsx, src/app/[locale]/(dashboard)/tracking/page.tsx, src/app/[locale]/(dashboard)/progress/loading.tsx</files>
  <action>
**Progress page** (`progress/page.tsx`):
- Import `Skeleton` from `@/components/ui/skeleton`
- Replace the current `checkInsLoading` block (Activity icon pulse in a box) with a proper skeleton:
  - Stats overview grid: 4 stat cards in a grid, each with `Skeleton h-4 w-20 mb-2` (label) and `Skeleton h-10 w-16` (value)
  - Tab bar skeleton: `Skeleton h-14 w-full`
  - Chart area skeleton: `border-4 border-black bg-cream` with `Skeleton h-[300px] w-full` inside
- Preserve the existing `useSWR` data fetching and all other page content
- Remove the `Activity` icon from the loading state (keep it in the header though)

**Progress loading.tsx** (`progress/loading.tsx`):
- Rewrite to use `Skeleton` component instead of raw animate-pulse divs
- Import `Skeleton` from `@/components/ui/skeleton`
- Structure: Header skeleton (black bg with Skeleton for title), Stats grid (4 cards), Tab bar, Chart placeholder
- This is the route-level loading.tsx that Next.js shows during navigation

**Tracking page** (`tracking/page.tsx`):
- Import `Skeleton` from `@/components/ui/skeleton`
- Find where `trackingLoading` or `mealPlanLoading`/`workoutPlanLoading` is used (or if there's no loading state at all)
- If there's no loading state, add one: when `mealPlanLoading || workoutPlanLoading || trackingLoading`, show skeleton:
  - Header skeleton: `border-4 border-black bg-black p-6` with Skeleton for title
  - Date selector skeleton: row of 7 `Skeleton h-12 w-full` boxes
  - Completion bar skeleton: `Skeleton h-4 w-full`
  - Meals section skeleton: 4 meal card skeletons with checkbox + name + macros
  - Workouts section skeleton: 3 workout card skeletons
- Ensure the loading check happens early in the component return, before accessing plan data

IMPORTANT: Read each file fully before modifying. Preserve all existing data fetching, state management, and rendered content.
  </action>
  <verify>`pnpm tsc --noEmit 2>&1 | head -20` to verify TypeScript compiles. Grep for Skeleton usage: `grep -r "from.*components/ui/skeleton" src/app/[locale]/(dashboard)/progress/page.tsx src/app/[locale]/(dashboard)/tracking/page.tsx src/app/[locale]/(dashboard)/progress/loading.tsx`</verify>
  <done>Progress page shows content-shaped skeleton during SWR loading. Progress loading.tsx uses Skeleton component. Tracking page shows skeleton during plan/tracking data loading.</done>
</task>

</tasks>

<verification>
- `pnpm tsc --noEmit` passes
- All 5 dashboard pages with client-side loading use Skeleton component
- No remaining Loader2 spinners used as primary loading states (only in submit buttons)
- Progress loading.tsx uses Skeleton component
</verification>

<success_criteria>
All dashboard pages show content-shaped skeleton loading states during data fetch. No blank screens or spinner-only loading anywhere in the client dashboard. Consistent animate-pulse pattern across all loading states.
</success_criteria>

<output>
After completion, create `.planning/phases/06-ux-polish/06-02-SUMMARY.md`
</output>
