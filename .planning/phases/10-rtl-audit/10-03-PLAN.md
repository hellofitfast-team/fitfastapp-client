---
phase: 10-rtl-audit
plan: 03
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - src/app/[locale]/(auth)/login/page.tsx
  - src/app/[locale]/(auth)/magic-link/page.tsx
  - src/app/[locale]/(auth)/set-password/page.tsx
  - src/app/[locale]/(onboarding)/welcome/page.tsx
  - src/app/[locale]/(onboarding)/initial-assessment/_components/basic-info-section.tsx
  - src/app/[locale]/(onboarding)/initial-assessment/_components/schedule-section.tsx
  - src/app/[locale]/(admin)/admin/login/page.tsx
autonomous: true

must_haves:
  truths:
    - "Auth pages (login, magic-link, set-password) render correctly in Arabic with input icons on the correct side"
    - "Onboarding pages render correctly in Arabic with proper spacing and borders"
    - "Admin login page renders correctly in Arabic"
    - "Directional icons (ArrowRight, ArrowLeft) flip correctly in RTL mode"
  artifacts:
    - path: "src/app/[locale]/(auth)/login/page.tsx"
      provides: "RTL-aware login form with logical properties"
      contains: "start-0"
    - path: "src/app/[locale]/(auth)/set-password/page.tsx"
      provides: "RTL-aware password form with logical properties"
      contains: "ps-16"
    - path: "src/app/[locale]/(onboarding)/welcome/page.tsx"
      provides: "RTL-aware welcome page with flipping arrow icons"
      contains: "rtl:rotate-180"
    - path: "src/app/[locale]/(onboarding)/initial-assessment/_components/basic-info-section.tsx"
      provides: "RTL-aware assessment form dropdowns"
      contains: "end-4"
  key_links:
    - from: "src/app/[locale]/(auth)/login/page.tsx"
      to: "src/components/ui/button.tsx"
      via: "Button component import"
      pattern: "import.*Button"
    - from: "src/app/[locale]/(onboarding)/welcome/page.tsx"
      to: "ArrowRight icon"
      via: "rtl:rotate-180 class"
      pattern: "rtl:rotate-180"
---

<objective>
Convert physical directional CSS properties to logical properties in auth, onboarding, and admin login pages, and add RTL rotation to directional icons.

Purpose: Auth and onboarding pages use physical properties (left-0, pl-16, border-r-4, right-4) for input field icon positioning and form layouts. These break in RTL mode, causing icons to appear on the wrong side and borders on the wrong edge. Directional icons (ArrowRight, ArrowLeft) also need to flip in RTL.

Output: All auth/onboarding/admin-login pages render correctly in both LTR and RTL with proper icon positioning and directional icon flipping.
</objective>

<execution_context>
@/Users/ziadadel/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ziadadel/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-rtl-audit/10-RESEARCH.md
@.planning/phases/10-rtl-audit/10-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert auth pages physical properties to logical</name>
  <files>
    src/app/[locale]/(auth)/login/page.tsx
    src/app/[locale]/(auth)/magic-link/page.tsx
    src/app/[locale]/(auth)/set-password/page.tsx
    src/app/[locale]/(admin)/admin/login/page.tsx
  </files>
  <action>
    All four auth pages share the same input field pattern: an icon container positioned absolutely on the left with padding on the input to make room. Convert all physical properties to logical equivalents.

    **login/page.tsx (2 input fields - email and password):**
    - Line 110: `left-0` to `start-0`, `pl-4` to `ps-4`, `border-r-4` to `border-e-4` (icon container)
    - Line 117: `pl-16` to `ps-16`, `pr-4` to `pe-4` (input element)
    - Line 140: Same pattern for password field - `left-0` to `start-0`, `pl-4` to `ps-4`, `border-r-4` to `border-e-4`
    - Line 147: `pl-16` to `ps-16`, `pr-4` to `pe-4`
    - ArrowRight icon (line ~167): Add `className="h-5 w-5 rtl:rotate-180"` to flip in RTL

    **magic-link/page.tsx (1 input field):**
    - Line 131: `left-0` to `start-0`, `pl-4` to `ps-4`, `border-r-4` to `border-e-4`
    - Line 139: `pl-16` to `ps-16`, `pr-4` to `pe-4`
    - ArrowLeft icon (lines ~93, ~168): These are "back" navigation arrows. In RTL, back should point right, so add `rtl:rotate-180`

    **set-password/page.tsx (2 input fields):**
    - Line 200: `left-0` to `start-0`, `pl-4` to `ps-4`, `border-r-4` to `border-e-4`
    - Line 208: `pl-16` to `ps-16`, `pr-4` to `pe-4`
    - Line 240: Same pattern for confirm password
    - Line 248: Same input padding
    - ArrowRight icon (line ~268): Add `rtl:rotate-180`

    **admin/login/page.tsx (2 input fields):**
    - Line 125: `left-0` to `start-0`, `pl-3.5` to `ps-3.5`
    - Line 132: `pl-10` to `ps-10`, `pr-4` to `pe-4`
    - Line 152: Same pattern for password
    - Line 159: Same input padding
    - ArrowRight icon (line ~181): Add `rtl:rotate-180`

    **Icon flipping rule:**
    - ArrowRight (forward/submit actions): Add `rtl:rotate-180` to the icon's className
    - ArrowLeft (back/return actions): Add `rtl:rotate-180` to the icon's className
    - Both arrow directions flip in RTL because they represent navigation direction, not absolute direction
  </action>
  <verify>
    `pnpm tsc --noEmit` passes.
    `grep -rn "left-0\|pl-4\|pl-16\|pl-10\|pl-3\.5\|pr-4\|border-r-4" src/app/\[locale\]/\(auth\)/ src/app/\[locale\]/\(admin\)/admin/login/` should return zero results.
  </verify>
  <done>
    All auth and admin login pages use logical CSS properties. Input icon containers position correctly in RTL. Navigation arrows flip direction in RTL.
  </done>
</task>

<task type="auto">
  <name>Task 2: Convert onboarding pages physical properties to logical</name>
  <files>
    src/app/[locale]/(onboarding)/welcome/page.tsx
    src/app/[locale]/(onboarding)/initial-assessment/_components/basic-info-section.tsx
    src/app/[locale]/(onboarding)/initial-assessment/_components/schedule-section.tsx
  </files>
  <action>
    **welcome/page.tsx:**
    - Line 65: `-ml-1` to `-ms-1`, `sm:-ml-1` to `sm:-ms-1`, `first:ml-0` to `first:ms-0` (negative margin for overlapping grid items)
    - ArrowRight icon (line ~89): Add `rtl:rotate-180`

    **basic-info-section.tsx:**
    - Line 95: `border-r-4` to `border-e-4` (gender button dividers)
    - Line 124: `pr-12` to `pe-12` (select dropdown padding for chevron)
    - Line 133: `right-4` to `end-4` (ChevronDown absolute position in select)

    **schedule-section.tsx:**
    - Line 36: `-ml-1` to `-ms-1`, `first:ml-0` to `first:ms-0` (negative margin for day buttons)

    **Directional icons in onboarding:**
    - ArrowRight in `initial-assessment/page.tsx` (line ~247): Add `rtl:rotate-180`
    - Any ChevronDown icons: Do NOT flip (down is universal)
  </action>
  <verify>
    `pnpm tsc --noEmit` passes.
    `grep -rn "\-ml-\|border-r-4\|right-4\|pr-12" src/app/\[locale\]/\(onboarding\)/` should return zero results.
  </verify>
  <done>
    All onboarding pages use logical CSS properties. Gender button dividers, select dropdowns, and day picker buttons render correctly in RTL. Forward navigation arrows flip in RTL.
  </done>
</task>

</tasks>

<verification>
- `pnpm tsc --noEmit` passes
- No physical directional properties remain in auth, onboarding, or admin login pages
- ArrowRight/ArrowLeft icons have `rtl:rotate-180` class
- ChevronDown icons do NOT have rtl:rotate-180 (vertical = universal)
</verification>

<success_criteria>
Auth flow (login, magic-link, set-password), onboarding flow (welcome, initial-assessment), and admin login all render correctly in Arabic RTL mode. Input icons appear on the correct side, form borders flip appropriately, and navigation arrows point in the correct direction.
</success_criteria>

<output>
After completion, create `.planning/phases/10-rtl-audit/10-03-SUMMARY.md`
</output>
